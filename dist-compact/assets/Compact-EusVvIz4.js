import{r as s,R as e}from"./index.html-BonDGwq6.js";const m="nss:settings";async function g(){return{enabled:!0,blockHighRisk:!1,...(await chrome.storage.local.get(m))[m]}}async function u(a){return{url:a,overall:50,metrics:{domainReputation:50,domainSignals:50,certificateTrust:50,connectionSecurity:50,credentialSafety:50,pageContent:50},verdict:"Caution"}}function E({intent:a="info",children:r}){return e.createElement("span",{className:`badge ${a}`},r)}function l({children:a}){return e.createElement("span",{className:"chip"},a)}function f({verdict:a}){const r={Safe:{label:"Safe",intent:"success"},Caution:{label:"Caution",intent:"warn"},Risky:{label:"High Risk",intent:"danger"}},t=r[a]||r.Caution;return e.createElement(E,{intent:t.intent},t.label)}function h(){const[a,r]=s.useState({enabled:!0}),[t,o]=s.useState({overall:50,metrics:{domainReputation:50,domainSignals:50,certificateTrust:50,connectionSecurity:50,credentialSafety:50,pageContent:50},verdict:"Caution",domain:"example.com"}),d=s.useMemo(()=>new Date().toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),[]);return s.useEffect(()=>{(async()=>{const c=await g();r(c);try{const[n]=await chrome.tabs.query({active:!0,currentWindow:!0}),i=(n==null?void 0:n.url)||"https://example.com",v=await u(i);o({...v,domain:new URL(i).hostname})}catch(n){console.warn(n)}})()},[]),e.createElement("div",null,e.createElement("div",{className:"header"},e.createElement("div",null,e.createElement("div",{className:"title"},"NetStarShield"),e.createElement("div",{className:"version"},"Scanned: Today, ",d)),e.createElement(f,{verdict:t.verdict})),e.createElement("div",{className:"card",style:{background:"#fff"}},e.createElement("div",{className:"row"},e.createElement("div",{className:"left"},e.createElement("div",{className:"small"},t.domain),e.createElement("div",{style:{fontWeight:700,marginTop:2}},"Overall score")),e.createElement("div",{className:"right"},e.createElement("div",{className:"risk-meter",style:{"--val":t.overall}},e.createElement("div",{className:"inner"},t.overall)))),e.createElement("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:10}},e.createElement(l,null,"Trackers: ",t.metrics.domainSignals),e.createElement(l,null,"Cert: ",t.metrics.certificateTrust),e.createElement(l,null,"Reputation: ",t.metrics.domainReputation),e.createElement(l,null,"Connection: ",t.metrics.connectionSecurity))),e.createElement("div",{style:{height:10}}),e.createElement("button",{className:"btn primary",onClick:()=>alert("Details coming soon")},"View details"),e.createElement("div",{style:{height:8}}),e.createElement("button",{className:"btn",onClick:async()=>{try{const[c]=await chrome.tabs.query({active:!0,currentWindow:!0}),n=(c==null?void 0:c.url)||"https://example.com",i=await u(n);o({...i,domain:new URL(n).hostname})}catch(c){alert("Scan failed: "+c)}}},"Scan current tab"))}export{h as default};
