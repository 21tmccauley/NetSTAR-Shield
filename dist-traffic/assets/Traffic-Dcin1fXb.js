import{r as m,R as e}from"./index.html-Cy5xBrNM.js";async function u(a){return{url:a,overall:50,metrics:{domainReputation:50,domainSignals:50,certificateTrust:50,connectionSecurity:50,credentialSafety:50,pageContent:50},verdict:"Caution"}}function d({verdict:a,when:s}){const i={Safe:{cls:"success",icon:"✔️",text:"Safe to browse"},Caution:{cls:"warn",icon:"⚠️",text:"Proceed with caution"},Risky:{cls:"danger",icon:"⛔",text:"High risk detected"}},l=i[a]||i.Caution;return e.createElement("div",{className:`header-strip ${l.cls}`},e.createElement("div",{className:"verdict"},e.createElement("span",null,l.icon)," ",l.text),e.createElement("div",{className:"small"},"Last scan: ",s))}function E(){const[a,s]=m.useState({overall:50,metrics:{domainReputation:50,domainSignals:50,certificateTrust:50,connectionSecurity:50,credentialSafety:50,pageContent:50},verdict:"Caution",domain:"example.com"}),i=m.useMemo(()=>new Date().toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),[]);m.useEffect(()=>{(async()=>{try{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0}),n=(t==null?void 0:t.url)||"https://example.com",c=await u(n);s({...c,domain:new URL(n).hostname})}catch(t){console.warn(t)}})()},[]);const l={domainReputation:"Domain Reputation",domainSignals:"Trackers",certificateTrust:"Certificate Trust",connectionSecurity:"Connection Security",credentialSafety:"Credential Safety",pageContent:"Page Content"},r=[],o=[];return Object.entries(a.metrics).forEach(([t,n])=>{const c=l[t]||t;n>=70?r.push({label:c,value:n}):o.push({label:c,value:n})}),e.createElement("div",null,e.createElement("div",{className:"header"},e.createElement("div",null,e.createElement("div",{className:"title"},"NetStarShield"),e.createElement("div",{className:"version"},a.domain)),e.createElement("div",{className:"risk-meter",style:{"--val":a.overall}},e.createElement("div",{className:"inner"},a.overall))),e.createElement(d,{verdict:a.verdict,when:i}),e.createElement("div",{className:"cols"},e.createElement("div",{className:"col"},e.createElement("div",{className:"col-title"},"What's safe"),e.createElement("ul",null,r.length===0&&e.createElement("li",{className:"small"},"No strong signals yet"),r.map(t=>e.createElement("li",{key:t.label},t.label,": ",t.value)))),e.createElement("div",{className:"col"},e.createElement("div",{className:"col-title"},"Needs attention"),e.createElement("ul",null,o.length===0&&e.createElement("li",{className:"small"},"No issues detected"),o.map(t=>e.createElement("li",{key:t.label},t.label,": ",t.value))))),e.createElement("div",{style:{height:10}}),e.createElement("div",{style:{display:"flex",gap:8}},e.createElement("button",{className:"btn primary",onClick:()=>alert("Open detailed report")},"See detailed report"),e.createElement("button",{className:"btn",onClick:()=>alert("Fix settings coming soon")},"Fix settings")),e.createElement("div",{style:{height:8}}),e.createElement("button",{className:"btn",onClick:async()=>{try{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0}),n=(t==null?void 0:t.url)||"https://example.com",c=await u(n);s({...c,domain:new URL(n).hostname})}catch(t){alert("Scan failed: "+t)}}},"Scan current tab"))}export{E as default};
