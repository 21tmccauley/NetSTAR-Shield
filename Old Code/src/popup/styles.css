/* ==========================================================================
   NetSTAR Shield - Chrome Extension Styles
   ========================================================================== */

/* CSS Custom Properties (Variables) for consistent theming */
:root {
  /* Colors */
  --color-primary: #1e40af;        /* Blue - primary actions, active states */
  --color-primary-light: #e0ebff;  /* Light blue - backgrounds */
  --color-primary-border: #c7d2fe; /* Blue border */
  --color-secondary: #475569;      /* Gray - secondary text, labels */
  --color-success: #22c55e;        /* Green - success states, enabled */
  --color-success-border: #16a34a; /* Dark green border */
  --color-warning: #b45309;        /* Orange - warnings, caution */
  --color-warning-bg: #fffbeb;     /* Light orange background */
  --color-warning-accent: #f59e0b; /* Orange accent - progress bars, risk meter */
  
  /* Neutrals */
  --color-text: #0f172a;           /* Dark text */
  --color-border: #e2e8f0;         /* Light borders */
  --color-border-light: #cbd5e1;   /* Lighter borders */
  --color-bg: #f8fafc;             /* Light background */
  --color-bg-hover: #eef2f7;       /* Hover background */
  --color-bg-disabled: #e5e7eb;    /* Disabled/gray background */
  
  /* Spacing */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 12px;
  --spacing-lg: 14px;
  --spacing-xl: 16px;
  
  /* Border radius */
  --radius-sm: 10px;
  --radius-md: 12px;
  --radius-lg: 24px;
  --radius-full: 50%;
  --radius-pill: 999px;
  
  /* Typography */
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-md: 18px;
  --font-size-lg: 20px;
  --font-weight-normal: 600;
  --font-weight-bold: 700;
}

/* ==========================================================================
   Base Styles
   ========================================================================== */

/* Reset default margins and padding */
html, body { 
  margin: 0; 
  padding: 0; 
}

/* Main popup container - fixed width for Chrome extension */
body { 
  width: 420px;                    /* Fixed width for extension popup */
  padding: var(--spacing-lg);      /* Internal padding */
  font: var(--font-size-sm)/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: var(--color-text);
  background: white;
}

/* ==========================================================================
   Layout Components
   ========================================================================== */

/* Header - contains title, version, and main toggle */
.header { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  margin-bottom: var(--spacing-sm);
}

/* Flex row layout - used throughout for horizontal alignment */
.row { 
  display: flex; 
  align-items: center; 
  gap: var(--spacing-md); 
}

/* Left side of row - takes available space */
.left { 
  flex: 1 1 auto; 
}

/* Right side of row - fixed width */
.right { 
  flex: 0 0 auto; 
}

/* Horizontal divider line */
.hr { 
  height: 1px; 
  background: var(--color-border); 
  margin: var(--spacing-md) 0; 
}

/* Content panel with padding */
.panel { 
  padding: var(--spacing-sm) 0; 
}

/* ==========================================================================
   Typography
   ========================================================================== */

/* Main title in header */
.title { 
  font-size: var(--font-size-lg); 
  font-weight: var(--font-weight-bold); 
  letter-spacing: 0.2px; 
  margin: 0;
}

/* Version text in header */
.version { 
  color: var(--color-secondary); 
  font-size: var(--font-size-xs); 
  margin: 0;
}

/* Small secondary text */
.small { 
  color: var(--color-secondary); 
  font-size: var(--font-size-xs); 
}

/* Section headings */
.section-title { 
  font-size: var(--font-size-md); 
  font-weight: var(--font-weight-bold); 
  margin: var(--spacing-xl) 0 var(--spacing-sm); 
  color: var(--color-text);
}

/* Warning text styling */
.warning { 
  color: var(--color-warning); 
  font-weight: var(--font-weight-bold); 
  display: flex; 
  gap: 6px; 
  align-items: center; 
}

/* ==========================================================================
   Navigation - Tabs
   ========================================================================== */

/* Tab container */
.tabs { 
  display: flex; 
  gap: var(--spacing-sm); 
  border-bottom: 1px solid var(--color-border); 
  margin: 10px 0 var(--spacing-lg); 
}

/* Individual tab button */
.tab { 
  padding: var(--spacing-sm) var(--spacing-md); 
  border-radius: var(--radius-sm) var(--radius-sm) 0 0;  /* Rounded top corners only */
  border: 1px solid transparent; 
  background: transparent; 
  font-weight: var(--font-weight-normal); 
  color: var(--color-secondary); 
  cursor: pointer; 
  transition: all 0.2s ease;
}

/* Active tab styling */
.tab.active { 
  background: var(--color-primary-light); 
  border-color: var(--color-primary-border); 
  color: var(--color-primary); 
}

/* ==========================================================================
   Cards and Containers
   ========================================================================== */

/* Main content card with subtle styling */
.card { 
  border: 1px solid var(--color-border); 
  border-radius: var(--radius-md); 
  background: var(--color-warning-bg);  /* Light orange background for security theme */
  padding: var(--spacing-lg); 
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.02);  /* Subtle shadow */
}

/* ==========================================================================
   Buttons
   ========================================================================== */

/* Base button styling */
.btn { 
  display: inline-flex; 
  align-items: center; 
  justify-content: center; 
  padding: var(--spacing-sm) var(--spacing-md); 
  border-radius: var(--radius-sm); 
  border: 1px solid var(--color-border-light); 
  background: var(--color-bg); 
  cursor: pointer; 
  font-weight: var(--font-weight-normal); 
  transition: background-color 0.2s ease;
}

/* Button hover state */
.btn:hover { 
  background: var(--color-bg-hover); 
}

/* Primary button variant */
.btn.primary { 
  background: var(--color-primary-light); 
  border-color: var(--color-primary-border); 
  color: var(--color-primary); 
}

/* ==========================================================================
   Interactive Elements - Toggle Switch
   ========================================================================== */

/* Toggle container - holds label and switch */
.toggle { 
  display: inline-flex; 
  align-items: center; 
  gap: var(--spacing-sm); 
}

/* Switch container - the track */
.switch { 
  position: relative; 
  width: 42px; 
  height: 24px; 
  border-radius: var(--radius-lg); 
  background: var(--color-border); 
  border: 1px solid var(--color-border-light); 
  cursor: pointer; 
  transition: background-color 0.2s ease;
}

/* Switch knob - the sliding part */
.knob { 
  position: absolute; 
  top: 1px; 
  left: 1px; 
  width: 20px; 
  height: 20px; 
  background: white; 
  border: 1px solid var(--color-border-light); 
  border-radius: var(--radius-full); 
  transition: left 0.2s ease;  /* Smooth sliding animation */
}

/* Switch when ON - green background */
.switch.on { 
  background: var(--color-success); 
  border-color: var(--color-success-border); 
}

/* Switch knob when ON - moved to right */
.switch.on .knob { 
  left: 21px;  /* Moves knob to the right */
}

/* ==========================================================================
   Custom Widgets
   ========================================================================== */

/* Risk Meter - Circular progress indicator */
.risk-meter { 
  --val: 50;  /* CSS custom property for the value (0-100) */
  width: 72px; 
  height: 72px; 
  border-radius: var(--radius-full); 
  /* Conic gradient creates the circular progress effect */
  background: conic-gradient(
    var(--color-warning-accent) calc(var(--val) * 1%), 
    var(--color-bg-disabled) 0
  ); 
  display: grid; 
  place-items: center;  /* Centers the inner content */
}

/* Risk meter inner circle - shows the number */
.risk-meter .inner { 
  width: 56px; 
  height: 56px; 
  border-radius: var(--radius-full); 
  background: white; 
  border: 1px solid var(--color-border); 
  display: grid; 
  place-items: center; 
  font-weight: var(--font-weight-bold); 
}

/* ==========================================================================
   Progress Bars
   ========================================================================== */

/* Progress bar row - contains label, bar, and value */
.progress-row { 
  display: flex; 
  align-items: center; 
  gap: 10px; 
  margin: 6px 0; 
}

/* Progress bar label - fixed width for alignment */
.progress-label { 
  width: 170px; 
  font-size: var(--font-size-xs);
  color: var(--color-secondary);
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

/* Progress bar container */
.progress { 
  position: relative; 
  flex: 1 1 auto;  /* Takes remaining space */
  height: 8px; 
  border-radius: var(--radius-pill); 
  background: var(--color-bg-disabled); 
  overflow: hidden;  /* Hides the bar when it's not full */
}

/* Progress bar fill - the actual progress */
.bar { 
  position: absolute; 
  left: 0; 
  top: 0; 
  height: 100%; 
  background: var(--color-warning-accent);  /* Orange progress */
  border-radius: var(--radius-pill); 
  transition: width 0.3s ease;  /* Smooth width changes */
}

/* Progress bar value - shows percentage */
.value { 
  width: 32px; 
  text-align: right; 
  color: var(--color-secondary); 
  font-weight: var(--font-weight-normal); 
  font-size: var(--font-size-xs);
}

/* ==========================================================================
   Lists
   ========================================================================== */

/* Unstyled list container */
.list { 
  margin: 0; 
  padding: 0; 
  list-style: none; 
}

/* List item with subtle border */
.list li { 
  padding: 6px 0; 
  border-bottom: 1px solid var(--color-bg-disabled); 
}

/* Remove border from last list item */
.list li:last-child { 
  border-bottom: none; 
}

/* ==========================================================================
   Info Icon and Tooltip
   ========================================================================== */

/* Info icon container - relative positioning for tooltip */
.info-icon-container {
  position: relative;
  display: inline-block;
}

/* Info icon - small circular icon */
.info-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  font-size: 10px;
  cursor: help;
  opacity: 0.6;
  transition: opacity 0.2s ease;
}

/* Info icon hover state */
.info-icon:hover {
  opacity: 1;
}

/* Tooltip - appears on hover */
.info-tooltip {
  position: absolute;
  background: var(--color-text);
  color: white;
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  line-height: 1.4;
  white-space: nowrap;
  max-width: 200px;
  white-space: normal;
  z-index: 1000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  animation: tooltipFadeIn 0.2s ease;
}

/* Tooltip positioning - top (default) */
.info-tooltip-top {
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
}

/* Tooltip positioning - bottom */
.info-tooltip-bottom {
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
}

/* Tooltip positioning - right */
.info-tooltip-right {
  left: calc(100% + 8px);
  top: 50%;
  transform: translateY(-50%);
}

/* Tooltip positioning - left */
.info-tooltip-left {
  right: calc(100% + 8px);
  top: 50%;
  transform: translateY(-50%);
}

/* Tooltip arrow - small triangle pointing to the icon */
.info-tooltip::before {
  content: '';
  position: absolute;
  width: 0;
  height: 0;
  border: 4px solid transparent;
}

/* Arrow for top tooltip */
.info-tooltip-top::before {
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-top-color: var(--color-text);
}

/* Arrow for bottom tooltip */
.info-tooltip-bottom::before {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-bottom-color: var(--color-text);
}

/* Arrow for right tooltip */
.info-tooltip-right::before {
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  border-right-color: var(--color-text);
}

/* Arrow for left tooltip */
.info-tooltip-left::before {
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  border-left-color: var(--color-text);
}

/* Tooltip fade-in animation */
@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}