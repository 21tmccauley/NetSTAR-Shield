import{r as s,R as e}from"./index.html-CuH9TbeC.js";const u="nss:settings";async function g(){return{enabled:!0,blockHighRisk:!1,...(await chrome.storage.local.get(u))[u]}}async function N(t){const l={...await g(),...t};return await chrome.storage.local.set({[u]:l}),l}async function v(t){return{url:t,overall:50,metrics:{domainReputation:50,domainSignals:50,certificateTrust:50,connectionSecurity:50,credentialSafety:50,pageContent:50},verdict:"Caution"}}function y({checked:t,onChange:n}){return e.createElement("div",{className:"switch"+(t?" on":""),onClick:()=>n(!t)},e.createElement("div",{className:"knob"}))}function h({value:t}){return e.createElement("div",{className:"risk-meter",style:{"--val":t}},e.createElement("div",{className:"inner"},t))}function i({label:t,value:n}){return e.createElement("div",{className:"progress-row"},e.createElement("div",{className:"progress-label"},t),e.createElement("div",{className:"progress"},e.createElement("div",{className:"bar",style:{width:n+"%"}})),e.createElement("div",{className:"value"},n))}function b({state:t}){const n=s.useMemo(()=>new Date().toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),[]);return e.createElement("div",null,e.createElement("div",{className:"card"},e.createElement("div",{className:"row"},e.createElement("div",{className:"left"},e.createElement("div",{className:"small"},t.domain),e.createElement("div",{className:"warning"},"Caution")),e.createElement("div",{className:"right"},e.createElement(h,{value:t.overall}))),e.createElement("div",null,e.createElement("div",{style:{fontWeight:700,marginBottom:4}},"Risk Score"),e.createElement("div",{className:"small",style:{marginBottom:6}},"Overall Security"),e.createElement("div",{className:"small",style:{marginBottom:8}},t.verdict==="Caution"?"Exercise caution when using this website.":"Safe to browse, routine caution advised."),e.createElement("div",{className:"small"},"Last visited: Today, ",n))),e.createElement("div",{style:{height:8}}),e.createElement("button",{className:"btn primary",onClick:()=>alert("Details coming soon")},"Show Details"),e.createElement("div",null,e.createElement(p,{metrics:t.metrics})))}function p({metrics:t}){return e.createElement("div",null,e.createElement("div",{className:"section-title"},"Security Analysis"),e.createElement(i,{label:"Domain Reputation",value:t.domainReputation}),e.createElement(i,{label:"Domain Signals",value:t.domainSignals}),e.createElement(i,{label:"Certificate Trust",value:t.certificateTrust}),e.createElement(i,{label:"Connection Security",value:t.connectionSecurity}),e.createElement(i,{label:"Credential Safety",value:t.credentialSafety}),e.createElement(i,{label:"Page Content",value:t.pageContent}))}function w(){return e.createElement("div",{className:"panel"},e.createElement("div",{className:"section-title"},"Details"),e.createElement("ul",{className:"list"},e.createElement("li",null,"Signals and evidence items here…")))}function C(){return e.createElement("div",{className:"panel"},e.createElement("div",{className:"section-title"},"Build"),e.createElement("ul",{className:"list"},e.createElement("li",null,"Version info & changelog…")))}function R(){return e.createElement("div",{className:"panel"},e.createElement("div",{className:"section-title"},"History"),e.createElement("ul",{className:"list"},e.createElement("li",null,"Recent scans…")))}function k({settings:t,update:n}){const[l,r]=s.useState(t.enabled);return s.useEffect(()=>{r(t.enabled)},[t.enabled]),e.createElement("div",{className:"panel"},e.createElement("div",{className:"section-title"},"Settings"),e.createElement("div",{className:"toggle"},e.createElement("span",{style:{fontWeight:600,color:l?"#16a34a":"#475569"}},l?"On":"Off"),e.createElement(y,{checked:l,onChange:async m=>{r(m),await n({enabled:m})}})))}function D(){const[t,n]=s.useState("Summary"),[l,r]=s.useState({enabled:!0}),[m,d]=s.useState({overall:50,metrics:{domainReputation:50,domainSignals:50,certificateTrust:50,connectionSecurity:50,credentialSafety:50,pageContent:50},verdict:"Caution",domain:"example.com"});s.useEffect(()=>{(async()=>{const a=await g();r(a);try{const[c]=await chrome.tabs.query({active:!0,currentWindow:!0}),o=(c==null?void 0:c.url)||"https://example.com",f=await v(o);d({...f,domain:new URL(o).hostname})}catch(c){console.warn(c)}})()},[]);async function S(){try{const[a]=await chrome.tabs.query({active:!0,currentWindow:!0}),c=(a==null?void 0:a.url)||"https://example.com",o=await v(c);d({...o,domain:new URL(c).hostname})}catch(a){alert("Scan failed: "+a)}}async function E(a){const c=await N(a);r(c)}return e.createElement("div",null,e.createElement("div",{className:"header"},e.createElement("div",null,e.createElement("div",{className:"title"},"NetStarShield"),e.createElement("div",{className:"version"},"Security Extension v1.36.0")),e.createElement("div",{className:"toggle"},e.createElement("span",{style:{fontWeight:600,color:l.enabled?"#16a34a":"#475569"}},l.enabled?"On":"Off"),e.createElement(y,{checked:l.enabled,onChange:a=>E({enabled:a})}))),e.createElement("div",{className:"tabs"},["Summary","Details","Build","History","Settings"].map(a=>e.createElement("button",{key:a,className:"tab"+(t===a?" active":""),onClick:()=>n(a)},a))),t==="Summary"&&e.createElement(b,{state:m}),t==="Details"&&e.createElement(w,null),t==="Build"&&e.createElement(C,null),t==="History"&&e.createElement(R,null),t==="Settings"&&e.createElement(k,{settings:l,update:E}),e.createElement("div",{style:{height:8}}),e.createElement("button",{className:"btn",onClick:S},"Scan current tab"))}export{D as default};
